<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Video file</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
        crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.min.css">
    <script>
        var vid, playbtn, seekslider;

        function intializePlayer() {
            vid = document.getElementById("my_video");
            playbtn = document.getElementById("playpausebtn");
            seekslider = document.getElementById("seekslider0");
            //playnextvid = document.getElementById("playnext");

            playbtn.addEventListener("click", playPause, false);
            seekslider.addEventListener("change", vidSeek, false);
            vid.addEventListener("timeupdate", seektimeupdate, false);
            document.getElementById("playnext").addEventListener("click", switchVideos, false);
            document.getElementById("my_video").addEventListener("ended", switchVideos, false);
            
        }
        window.onload = intializePlayer;


        function playPause() {
            if (vid.paused) {
                vid.play();
                playbtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
            } else {
                vid.pause();
                playbtn.innerHTML = '<i class="fas fa-play"></i> Play';
            }
        }

        function vidSeek() {
            var seekto = vid.duration * (seekslider.value / 100);
            vid.currentTime = seekto;
        }

        function seektimeupdate() {
            var nt = vid.currentTime * (100 / vid.duration);
            seekslider.value = nt;
        }
        function switchVideos() {
            vidPlaying++;
            var nextvidplay= vidPlaying%3;
            var player = document.getElementById("my_video");
            var mp4Vid = document.getElementById("mp4src");
            var webmVid = document.getElementById("webmsrc");
            var oggVid = document.getElementById("oggsrc");
            player.pause();

            if (vidPlaying < vidPlaylist.length) {
                mp4Vid.src = vidPlaylist[nextvidplay][0];
                webmVid.src = vidPlaylist[nextvidplay][1];
                oggVid.src = vidPlaylist[nextvidplay][2];
                player.load();
                player.play();
                
                seekslider = document.getElementById('seekslider'+nextvidplay);
                seekslider.addEventListener("change", vidSeek, false);
            }
        }
        var vidPlaylist = [
            ["video/GOPR6239_1.mov", "video/GOPR6239_1.webm", "video/GOPR6239_1.mov"], 
            ["video/Ocean_Waves_slow_motion_videvo.mov", "video/Ocean_Waves_slow_motion_videvo.mov","video/Ocean_Waves_slow_motion_videvo.mov"],
            ["video/abc.mp4", "video/abc.mp4", "video/abc.mp4"]
        ]
        var vidPlaying = 0;
        function switchVideosNext(videoNext) {
            vidPlaying = videoNext-1;
            switchVideos();
        }



           function expandFullscreen() {
            var element = document.getElementById("my_video");
            if (element.mozRequestFullScreen) {
                element.mozRequestFullScreen();
            } else if (element.webkitRequestFullScreen) {
                element.webkitRequestFullScreen();
            }
        }

    </script>

</head>

<body>
    <div class="wrapper">
        <ul class="playlist">
            <li><input id="seekslider0" class="seekslider" type="range" min="0" max="100" value="0" step="1" />
                <a href="#" onclick="switchVideosNext(0)">

                    <img width="300" height="200" src="https://www.videvo.net/videvo_files/images/preview_GOPR6239_1.jpg" /></a>
            </li>
            <li> <input id="seekslider1" class="seekslider" type="range" min="0" max="100" value="0" step="1" />
                <a href="#" onclick="switchVideosNext(1)">
                   
                    <img width="300" height="200" src="video/sec.png" /></a>
            </li>
            <li><input id="seekslider2" class="seekslider" type="range" min="0" max="100" value="0" step="1" />
                <a href="#" onclick="switchVideosNext(2)">
                    
                    <img width="300" height="200" src="video/3.png" /></a>
            </li>
        </ul>
       
        <video id="my_video" class="video-elem" preload="auto" autoplay="autoplay" muted="" poster="video/fst.png">
            Video not supported
            <source id="mp4src" src="video/GOPR6239_1.mov" type="video/mp4">
            <source  id="webmsrc" src="video/GOPR6239_1.mov" type='video/webm; codecs="vp8,vorbis"'>
            <source  id="oggsrc" src="video/GOPR6239_1.mov" type='video/ogg; codecs="theora,corbis"'>
        </video>
        <div id="video_controls_bar">
                <a href="#" class="social"><i class="fas fa-plus"></i></a>
            <button id="playpausebtn" class="play--pause-btn"><i class="fas fa-pause"></i>
                Pause</button>
                <a href="#" class="info"><i class="fas fa-info-circle"></i></a>
            <button  id="playnext">Next</button>

        </div>
    </div>

</body>

</html>